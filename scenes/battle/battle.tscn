[gd_scene load_steps=9 format=4 uid="uid://ovyqwcyp5306"]

[ext_resource type="Script" uid="uid://dem6y8kgjdr14" path="res://scenes/battle/battle.gd" id="1_0yh6x"]
[ext_resource type="PackedScene" uid="uid://rxwttafnoxet" path="res://scenes/actors/enemy_guard_red.tscn" id="3_fh7rg"]
[ext_resource type="Texture2D" uid="uid://cppywouuvugoy" path="res://art/sprites/Original_art/character_tiles.png" id="3_py4tk"]
[ext_resource type="PackedScene" uid="uid://3x13sxhl5stt" path="res://scenes/ui/hud.tscn" id="4_pll4o"]
[ext_resource type="PackedScene" uid="uid://cp6eq4gp1utyk" path="res://scenes/actors/actor.tscn" id="6_fh7rg"]
[ext_resource type="PackedScene" uid="uid://dhtqftrkbxt83" path="res://scenes/actors/guard_green.tscn" id="7_pll4o"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_agsc7"]
texture = ExtResource("3_py4tk")
0:16/0 = 0
0:17/0 = 0
0:18/0 = 0
0:19/0 = 0

[sub_resource type="TileSet" id="TileSet_oiw7q"]
sources/0 = SubResource("TileSetAtlasSource_agsc7")

[node name="Battle" type="Node2D"]
script = ExtResource("1_0yh6x")

[node name="Board" type="TileMapLayer" parent="."]
z_as_relative = false
position = Vector2(16, 80)
tile_map_data = PackedByteArray("AAADAAEAAAAAABIAAAACAAEAAAAAABAAAAACAAIAAAAAABAAAAAHAAAAAAAAABMAAAAHAAEAAAAAABAAAAAHAAIAAAAAABAAAAAGAAIAAAAAABAAAAAFAAIAAAAAABIAAAAEAAIAAAAAABAAAAADAAIAAAAAABAAAAABAAIAAAAAABEAAAAAAAIAAAAAABAAAAD//wIAAAAAABAAAAD//wEAAAAAABAAAAD//wAAAAAAABAAAAAAAAAAAAAAABAAAAABAAAAAAAAABAAAAACAAAAAAAAABAAAAADAAAAAAAAABAAAAAEAAAAAAAAABAAAAAFAAAAAAAAABAAAAAFAAEAAAAAABAAAAAGAAEAAAAAABAAAAAEAAEAAAAAABAAAAABAAEAAAAAABAAAAAAAAEAAAAAABAAAAAGAAAAAAAAABAAAAAHAP//AAAAABAAAAAGAP//AAAAABAAAAAFAP//AAAAABAAAAAEAP//AAAAABAAAAACAP//AAAAABAAAAABAP//AAAAABAAAAAAAP//AAAAABAAAAD/////AAAAABAAAAADAP//AAAAABAAAAAHAP7/AAAAABAAAAAGAP7/AAAAABAAAAAFAP7/AAAAABAAAAAEAP7/AAAAABAAAAADAP7/AAAAABAAAAACAP7/AAAAABAAAAABAP7/AAAAABAAAAAAAP7/AAAAABIAAAD///7/AAAAABAAAAD//wMAAAAAABMAAAAAAAMAAAAAABAAAAABAAMAAAAAABAAAAACAAMAAAAAABAAAAADAAMAAAAAABAAAAAEAAMAAAAAABAAAAAFAAMAAAAAABAAAAAGAAMAAAAAABAAAAAHAAMAAAAAABAAAAAIAAMAAAAAABAAAAAJAAMAAAAAABAAAAAKAAMAAAAAABAAAAALAAMAAAAAABAAAAAMAAMAAAAAABMAAAANAAMAAAAAABAAAAAOAAMAAAAAABEAAAAPAAMAAAAAABAAAAAQAAMAAAAAABIAAAARAAMAAAAAABAAAAASAAMAAAAAABAAAAASAAIAAAAAABAAAAARAAIAAAAAABIAAAAQAAIAAAAAABAAAAAPAAIAAAAAABAAAAAOAAIAAAAAABAAAAANAAIAAAAAABAAAAAMAAIAAAAAABAAAAALAAIAAAAAABAAAAAKAAIAAAAAABAAAAAJAAIAAAAAABAAAAAIAAIAAAAAABAAAAAIAAEAAAAAABAAAAAJAAEAAAAAABAAAAAKAAEAAAAAABAAAAALAAEAAAAAABAAAAAMAAEAAAAAABAAAAANAAEAAAAAABAAAAAOAAEAAAAAABAAAAAPAAEAAAAAABAAAAAQAAEAAAAAABAAAAARAAEAAAAAABAAAAASAAEAAAAAABAAAAASAAAAAAAAABAAAAARAAAAAAAAABAAAAAQAAAAAAAAABAAAAAPAAAAAAAAABAAAAAOAAAAAAAAABAAAAANAAAAAAAAABAAAAAMAAAAAAAAABAAAAALAAAAAAAAABAAAAAKAAAAAAAAABAAAAAJAAAAAAAAABAAAAAIAAAAAAAAABAAAAAIAP//AAAAABEAAAAJAP//AAAAABAAAAAKAP//AAAAABAAAAALAP//AAAAABAAAAAMAP//AAAAABIAAAANAP//AAAAABAAAAAOAP//AAAAABAAAAAPAP//AAAAABAAAAAQAP//AAAAABAAAAARAP//AAAAABEAAAASAP//AAAAABAAAAASAP7/AAAAABAAAAARAP7/AAAAABAAAAAQAP7/AAAAABAAAAAPAP7/AAAAABAAAAAOAP7/AAAAABIAAAANAP7/AAAAABAAAAAMAP7/AAAAABAAAAALAP7/AAAAABAAAAAKAP7/AAAAABAAAAAJAP7/AAAAABAAAAAIAP7/AAAAABAAAAA=")
tile_set = SubResource("TileSet_oiw7q")

[node name="HUDLayer" type="CanvasLayer" parent="."]

[node name="HUD" parent="HUDLayer" instance=ExtResource("4_pll4o")]
offset_left = 9.0
offset_top = 2.0
offset_right = 9.0
offset_bottom = 2.0
metadata/_edit_use_anchors_ = true

[node name="Actors" type="Node2D" parent="."]
z_index = 10
z_as_relative = false
position = Vector2(0, 40)

[node name="Enemy_GuardRed" parent="Actors" instance=ExtResource("3_fh7rg")]
unique_name_in_owner = true
position = Vector2(229, 40)
faction = 1
current_hp = 15

[node name="Guard_1" parent="Actors" instance=ExtResource("7_pll4o")]
unique_name_in_owner = true
position = Vector2(90, 19)
current_hp = 15

[node name="VIP" parent="Actors" instance=ExtResource("6_fh7rg")]
unique_name_in_owner = true
position = Vector2(15, 39)
is_vip = true
current_hp = 15

[node name="ColorRect" type="ColorRect" parent="."]
offset_right = 320.0
offset_bottom = 48.0
color = Color(0.133333, 0.133333, 0.203922, 1)
metadata/_edit_use_anchors_ = true

[node name="ColorRect2" type="ColorRect" parent="."]
offset_top = 144.0
offset_right = 320.0
offset_bottom = 180.0
color = Color(0.133333, 0.133333, 0.203922, 1)
metadata/_edit_use_anchors_ = true

[connection signal="attack_impact" from="Actors/Enemy_GuardRed" to="." method="_on_enemy_guard_red_attack_impact"]
[connection signal="died" from="Actors/Enemy_GuardRed" to="." method="_on_enemy_guard_red_died"]
[connection signal="hp_changed" from="Actors/Enemy_GuardRed" to="HUDLayer/HUD" method="_on_enemy_guard_red_hp_changed"]
[connection signal="attack_impact" from="Actors/Guard_1" to="." method="_on_guard_1_attack_impact"]
[connection signal="died" from="Actors/Guard_1" to="." method="_on_guard_1_died"]
[connection signal="hp_changed" from="Actors/Guard_1" to="HUDLayer/HUD" method="_on_guard_1_hp_changed" flags=3]
[connection signal="attack_impact" from="Actors/VIP" to="." method="_on_vip_attack_impact"]
[connection signal="died" from="Actors/VIP" to="." method="_on_vip_died"]
[connection signal="hp_changed" from="Actors/VIP" to="HUDLayer/HUD" method="_on_vip_hp_changed"]
